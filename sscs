dotnet tool install --global dotnet-coverage
dotnet tool install --global dotnet-sonarscanner
dotnet sonarscanner begin /k:"Estifanos-Neway_farm-advisor" /d:sonar.login="${{ secrets.SONAR_TOKEN }}" /d:sonar.cs.vscoveragexml.reportsPaths=coverage.xml
dotnet build build.proj --no-incremental
dotnet-coverage collect "dotnet test" -f xml -o "coverage.xml"
dotnet sonarscanner end /d:sonar.login="${{ secrets.SONAR_TOKEN }}"


SonarScanner.MSBuild.exe begin /k:"Estifanos-Neway_farm-advisor" /d:sonar.login="${{ secrets.SONAR_TOKEN }}" 
dotnet build build.proj --no-incremental
dotnet test --collect "Code Coverage"
SonarScanner.MSBuild.exe end /d:sonar.login="${{ secrets.SONAR_TOKEN }}"

dotnet tool install --global JetBrains.dotCover.GlobalTool
.\.sonar\scanner\dotnet-sonarscanner begin /k:"Estifanos-Neway_farm-advisor" /d:sonar.login="${{ secrets.SONAR_TOKEN }}" /d:sonar.cs.dotcover.reportsPaths=dotCover.Output.html
dotnet build build.proj --no-incremental
dotnet dotcover test --dcReportType=HTML
.\.sonar\scanner\dotnet-sonarscanner end /d:sonar.login="${{ secrets.SONAR_TOKEN }}"